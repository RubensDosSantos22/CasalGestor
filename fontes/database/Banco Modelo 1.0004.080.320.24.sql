/******************************************************************************/
/****        Generated by IBExpert 2015.12.21.1 08/03/2024 11:57:13        ****/
/******************************************************************************/

CREATE GENERATOR TP_DESPESA_ID;

CREATE GENERATOR TP_RECEITA_ID;

CREATE GENERATOR CT_PAGAR_ID;

CREATE GENERATOR CT_RECEBER_ID;

CREATE TABLE CT_PAGAR (
    ID INTEGER NOT NULL,
    CODIGO_CONTA VARCHAR(10) DEFAULT 'C[00]-0000',
    VALOR_PAGAMENTO DOUBLE PRECISION DEFAULT 0.00,
    DATA_PAGAMENTO DATE DEFAULT '01/01/2000',
    DATA_VENCIMENTO DATE DEFAULT '01/01/2000',
    DESPESA INTEGER DEFAULT 1);

CREATE TABLE CT_RECEBER (
    ID INTEGER NOT NULL,
    CODIGO_CONTA VARCHAR(10) DEFAULT 'R[00]-0000',
    VALOR_RECEBIMENTO DOUBLE PRECISION DEFAULT 0.00,
    DATA_RECEBIMENTO DATE DEFAULT '01/01/2000',
    DATA_VENCIMENTO DATE DEFAULT '01/01/2000',
    RECEITA INTEGER DEFAULT 1);

CREATE TABLE TP_DESPESA (
    ID INTEGER NOT NULL,
    NOME VARCHAR(50),
    CODIGO_DESPESA VARCHAR(10) DEFAULT 'C[00]-');

CREATE TABLE TP_RECEITA (
    ID INTEGER NOT NULL,
    NOME VARCHAR(50),
    CODIGO_RECEITA VARCHAR(10) DEFAULT 'R[00]-');

ALTER TABLE CT_PAGAR ADD CONSTRAINT PK_CT_PAGAR PRIMARY KEY (ID);

ALTER TABLE CT_RECEBER ADD CONSTRAINT PK_CT_RECEBER PRIMARY KEY (ID);

ALTER TABLE TP_DESPESA ADD CONSTRAINT PK_TIPOS_DESPESAS PRIMARY KEY (ID);

ALTER TABLE TP_RECEITA ADD CONSTRAINT PK_TP_RECEITA PRIMARY KEY (ID);

ALTER TABLE CT_PAGAR ADD CONSTRAINT LINK_DESPESA FOREIGN KEY (DESPESA) REFERENCES TP_DESPESA (ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE CT_RECEBER ADD CONSTRAINT LINK_RECEITA FOREIGN KEY (RECEITA) REFERENCES TP_RECEITA (ID) ON DELETE CASCADE ON UPDATE CASCADE;

SET TERM ^ ;

CREATE TRIGGER CT_PAGAR_BI FOR CT_PAGAR
ACTIVE BEFORE INSERT POSITION 0
AS
begin
   if (new.id is null) then
    new.id = gen_id(ct_pagar_id,1);
end
^

SET TERM ; ^

SET TERM ^ ;

CREATE TRIGGER CT_RECEBER_BI FOR CT_RECEBER
ACTIVE BEFORE INSERT POSITION 0
AS
begin
    if (new.id is null) then
    new.id = gen_id(ct_receber_id,1);
end
^

SET TERM ; ^

SET TERM ^ ;

CREATE TRIGGER TP_DESPESA_BI FOR TP_DESPESA
ACTIVE BEFORE INSERT POSITION 0
AS
begin
    if (new.id is null) then
    new.id = gen_id(tp_despesa_id,1);
end
^

SET TERM ; ^

SET TERM ^ ;

CREATE TRIGGER TP_RECEITA_BI FOR TP_RECEITA
ACTIVE BEFORE INSERT POSITION 0
AS
begin
    if (new.id is null) then
    new.id = gen_id(tp_receita_id,1);
end
^

SET TERM ; ^

